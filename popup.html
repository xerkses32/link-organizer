<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Link Organizer</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="app-container" id="appContainer">
    <!-- Sidebar - Fixed -->
    <div class="sidebar">
      <h2>Ordner</h2>
      <div class="folder-input-container">
        <input type="text" id="newFolderName" placeholder="Neuer Ordner...">
      </div>
      <div class="folder-create-container">
      <button id="createFolderBtn">Erstellen</button>
      </div>
      <ul id="folderList"></ul>
      
      <!-- Share Code Section -->
      <div class="share-code-section">
        <div class="share-code-title">Share Code eingeben</div>
        <div class="share-code-input-compact">
          <input type="text" id="shareCodeInput" placeholder="Code eingeben...">
          <button id="enterShareCodeBtn">Hinzuf√ºgen</button>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Header Row -->
      <div class="header-row">
        <h1 id="selectedFolderTitle">Link Organizer</h1>
        <div class="header-actions">
          <a href="#" id="openAllLinksBtn" class="open-all-link">Alle √∂ffnen</a>
          <a href="#" id="historyToggleBtn" class="history-link">Browserverlauf</a>
          <a href="#" id="exportCsvBtn" class="export-link">Export CSV</a>
        </div>
      </div>

      <!-- Quick Save Interface -->
      <div id="quickSaveInterface">
        <div class="quick-save-row">
          <button id="saveLinkBtn">+ Tab hinzuf√ºgen</button>
          <input type="text" id="searchInput" placeholder="Links durchsuchen..." class="search-input">
        </div>
        <div class="quick-save-info">
          <p>üí° Tipp: Nutze Drag & Drop um Links zwischen Ordnern zu verschieben</p>
        </div>
      </div>

      <!-- Links Table -->
      <div class="links-table">
        <div class="table-header">
          <div class="col-name sortable" data-sort="name">
            Name
            <span class="sort-icon">‚Üï</span>
          </div>
          <div class="col-date sortable" data-sort="date">
            Hinzugef√ºgt am
            <span class="sort-icon">‚Üï</span>
          </div>
          <div class="col-actions">Aktionen</div>
        </div>
        <div id="linkList"></div>
      </div>

      <!-- Empty State -->
      <div id="emptyState" class="empty-state" style="display: none;">
        Keine Links in diesem Ordner. F√ºge deinen ersten Link hinzu!
      </div>

      <!-- Messages Container -->
      <div id="messagesContainer"></div>
    </div>

    <!-- History Overlay - Right Side -->
    <div id="historyOverlay" class="history-overlay">
      <div class="history-header">
        <div class="history-title">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
          <h3>Browserverlauf</h3>
        </div>
        <button id="closeHistoryBtn" class="close-history-btn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 6L6 18M6 6l12 12"/>
          </svg>
        </button>
      </div>

      <!-- History Controls -->
      <div class="history-controls">
        <div class="history-search">
          <input type="text" id="historySearchInput" placeholder="Verlauf durchsuchen..." class="history-search-input">
        </div>
        <div class="history-filters">
          <select id="historyTimeFilter" class="history-filter-select">
            <option value="1">Letzte Stunde</option>
            <option value="24">Letzte 24 Stunden</option>
            <option value="168" selected>Letzte Woche</option>
            <option value="720">Letzter Monat</option>
            <option value="all">Alle Zeit</option>
          </select>
        </div>
      </div>

      <!-- History List -->
      <div class="history-list-container">
        <div class="history-list-header">
          <div class="history-select-all">
            <input type="checkbox" id="selectAllHistory" class="history-checkbox">
            <label for="selectAllHistory">Alle ausw√§hlen</label>
          </div>
          <div class="history-selected-count">
            <span id="selectedHistoryCount">0</span> ausgew√§hlt
          </div>
        </div>
        <div id="historyList" class="history-list">
          <!-- History items will be loaded here -->
        </div>
      </div>

      <!-- History Actions -->
      <div class="history-actions">
        <button id="addSelectedToFolderBtn" class="history-action-btn" disabled>
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 5v14M5 12h14"/>
          </svg>
          Zu Ordner hinzuf√ºgen
        </button>
      </div>
    </div>
  </div>

  <!-- Onboarding Flow -->
  <div id="onboardingFlow" class="onboarding-flow" style="display: none;">
    <div class="onboarding-header">
      <h1>Willkommen bei Link Organizer!</h1>
      <p>Lass uns in 3 einfachen Schritten loslegen:</p>
    </div>
    
    <div class="onboarding-steps">
      <!-- Step 1: Create Folder -->
      <div class="onboarding-step" id="step1">
        <div class="step-number">1</div>
        <div class="step-content">
          <h3>Erstelle deinen ersten Ordner</h3>
          <p>Organisiere deine Links in Ordnern f√ºr bessere √úbersicht.</p>
          <button id="createFirstFolderBtn" class="onboarding-btn">Ersten Ordner erstellen</button>
        </div>
      </div>
      
      <!-- Step 2: Save First Link -->
      <div class="onboarding-step" id="step2" style="display: none;">
        <div class="step-number">2</div>
        <div class="step-content">
          <h3>Speichere deinen ersten Link</h3>
          <p>F√ºge den aktuellen Tab zu deinem Ordner hinzu.</p>
          <button id="saveFirstLinkBtn" class="onboarding-btn">Aktuellen Tab speichern</button>
        </div>
      </div>
      
      <!-- Step 3: Learn Features -->
      <div class="onboarding-step" id="step3" style="display: none;">
        <div class="step-number">3</div>
        <div class="step-content">
          <h3>Entdecke die Funktionen</h3>
          <div class="feature-grid">
            <div class="feature-card">
              <div class="feature-icon">üìÅ</div>
              <h4>Ordner organisieren</h4>
              <p>Erstelle Ordner f√ºr verschiedene Themen</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">üîó</div>
              <h4>Links teilen</h4>
              <p>Teile Ordner mit Share-Codes</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">üìä</div>
              <h4>CSV Export</h4>
              <p>Exportiere Links als CSV-Datei</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">‚≠ê</div>
              <h4>Favoriten</h4>
              <p>Markiere wichtige Links als Favoriten</p>
            </div>
          </div>
          <button id="finishOnboardingBtn" class="onboarding-btn">Los geht's!</button>
        </div>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
